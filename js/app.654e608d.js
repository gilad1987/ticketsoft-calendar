!function(e){function t(t){for(var r,i,a=t[0],c=t[1],l=t[2],u=0,p=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;s.push([201,1]),n()}({201:function(e,t,n){"use strict";n.r(t);n(202),n(211),n(212),n(213),n(215),n(216),n(217),n(64),n(222),n(223),n(227),n(229),n(230),n(231),n(232),n(235),n(237),n(239),n(240);var r=n(0),o=n(15),s=n(197),i=n(198),a=n(199),c=n(200),l=n.n(c);n(243),n(244),n(245),n(246),n(247),n(248);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n(1),f=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"iCalendar",void 0),p(this,"selectedEventType",1),p(this,"events",[]),p(this,"eventsGroupByType",{2:{type:2,text:"חללים",options:{}},3:{type:3,text:"מדריכים",options:{}},1:{type:1,text:"פעילות",options:{}}}),p(this,"messages",[{startTime:new Date("2020-01-01"),endTime:new Date("2020-01-01"),text:"message for days between - 2020-01-01 - 2020-01-01"},{startTime:new Date("2020-01-01"),endTime:new Date("2020-01-01"),text:"message for days between - 2020-01-01 - 2020-01-01"},{startTime:new Date("2020-01-14"),endTime:new Date("2020-01-14"),text:"message for days between - 2020-01-14 - 2020-01-14"},{startTime:new Date("2020-01-22"),endTime:new Date("2020-01-22"),text:"message for days between - 2020-01-22 - 2020-01-22"},{startTime:new Date("2020-01-20"),endTime:new Date("2020-01-20"),text:"message for days between - 2020-01-20 - 2020-01-20"}]),p(this,"updateEvents",(function(e){t.events=e,t.clearAllEvents(),t.renderEvents(e)})),p(this,"filterEvents",(function(e,n){var r="All"===n?t.events.filter((function(e){return e.extendedProps.type_id===t.selectedEventType})):t.events.filter((function(e){return e.extendedProps.type_id===t.selectedEventType})).filter((function(t){return t.extendedProps[e]===Number(n)}));return t.renderEvents(r),r})),p(this,"renderEvents",(function(e){t.clearAllEvents(),t.calendar.addEventSource({events:e})})),p(this,"clearAllEvents",(function(){t.calendar&&t.calendar.getEventSources().every((function(e){return e.remove()}))})),p(this,"renderDatePicker",(function(){var e=new l.a({field:document.querySelector(".fc-datepicker-button"),format:"yy-mm-dd",onSelect:function(n){e.gotoDate(new Date(n)),t.calendar.gotoDate(new Date(n))},i18n:{previousMonth:"Mes anterior",nextMonth:"Mes siguiente",months:["ינואר","פבואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקוטובר","נובמבר","דצמבר"],weekdays:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],weekdaysShort:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"]}})})),p(this,"openModal",(function(e){document.getElementById("modal").classList.add("open")})),p(this,"closeModal",(function(e){document.getElementById("modal").classList.remove("open")})),p(this,"clearTypeFilterButtonsSelection",(function(){Array.prototype.slice.call(document.querySelectorAll('[class*="Select-button"]')).forEach((function(e){return e.classList.remove("fc-button-active")}))})),p(this,"setSelectedFilterTypeButton",(function(e){e.classList.add("fc-button-active")})),p(this,"dayRender",(function(){if("timeGridDay"===t.calendar.view.type){var e=document.querySelector(".fc-slats"),n=document.createElement("div");n.classList.add("wrapperColumns"),document.querySelector(".wrapperColumns")&&document.querySelector(".wrapperColumns").remove();for(var r=0,o=Object.entries(t.eventsGroupByType[t.selectedEventType].options);r<o.length;r++){var s=u(o[r],2),i=s[0],a=s[1],c=document.createElement("div");c.id="".concat(t.getCurrentType(),"_").concat(i),c.classList.add("column"),c.innerText=a,n.appendChild(c)}e.appendChild(n)}})),p(this,"getDateDiff",(function(e,t){var n=t-e;return{diffDays:Math.floor(n/864e5),diffHrs:Math.floor(n%864e5/36e5),diffMins:Math.round(n%864e5%36e5/6e4)}})),p(this,"moveEventToColumn",(function(e){var n=e.el,r=e.activity_id,o=e.guide_id,s=e.room_id,i=(e.type_id,e.event),a=1===t.selectedEventType?r:2===t.selectedEventType?s:o,c=document.querySelector("#".concat(t.getCurrentType(),"_").concat(a,".column"));if(c){var l=Math.abs(i.end-i.start),d=Math.floor(l/1e3/60),u=c.clientHeight/1440;n.style.height="".concat(u*d,"px"),c.appendChild(n)}})),p(this,"getCurrentType",(function(){return 1===t.selectedEventType?"activity":2===t.selectedEventType?"room":"guide"})),p(this,"render",(function(){var e,n=document.getElementById("calendar");t.calendar=new r.a(n,(p(e={eventPositioned:function(e){},nowIndicator:!0,dir:"rtl",locale:"he",header:!1,events:t.events,plugins:[o.d,s.a,i.a,a.a],timeZone:"local",defaultView:"dayGridMonth",businessHours:{startTime:"10:00",endTime:"18:00"}},"header",{left:"next,prev today datepicker",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay activitySelect,guideSelect,roomSelect"}),p(e,"buttonText",{today:"היום",month:"חודש",week:"שבוע",day:"יום"}),p(e,"customButtons",{datepicker:{text:"לוח שנה",click:function(e){}},activitySelect:{text:"פעילות",click:function(e){t.clearTypeFilterButtonsSelection(),t.setSelectedFilterTypeButton(e.target),t.selectedEventType=1,t.filterEvents("type","All"),t.appendFilterSelectButton(),t.dayRender()}},guideSelect:{text:"מדריכים",click:function(e){t.clearTypeFilterButtonsSelection(),t.setSelectedFilterTypeButton(e.target),t.selectedEventType=3,t.filterEvents("type","All"),t.appendFilterSelectButton(),t.dayRender()}},roomSelect:{text:"חללים",click:function(e){t.clearTypeFilterButtonsSelection(),t.setSelectedFilterTypeButton(e.target),t.selectedEventType=2,t.filterEvents("type","All"),t.appendFilterSelectButton(),t.dayRender()}}}),p(e,"views",{week:{titleFormat:{month:"short",year:"numeric",day:"numeric",weekday:"short"}},day:{titleFormat:{month:"short",year:"numeric",day:"numeric",weekday:"short"}}}),p(e,"eventClick",(function(e){console.log("eventClick"),t.openModal(e)})),p(e,"dateClick",(function(e){return"dayGridMonth"===t.calendar.view.type?(t.calendar.changeView("timeGridWeek",e.dateStr),void t.calendar.gotoDate(e.dateStr)):"timeGridWeek"===t.calendar.view.type?(t.calendar.changeView("timeGridDay",e.dateStr),void t.calendar.gotoDate(e.dateStr)):void 0})),p(e,"select",(function(e){})),p(e,"dayRender",(function(e){t.dayRender(e)})),p(e,"datesRender",(function(e){var n=e.view.currentStart,r=e.view.currentEnd,o=document.getElementById("messages");o?o.innerHTML="":((o=document.createElement("ul")).setAttribute("id","messages"),e.el.parentNode.insertBefore(o,e.el)),t.messages.forEach((function(e){if(n<=e.startTime&&r>=e.endTime){var t=document.createElement("li");t.innerHTML=e.text,o.appendChild(t)}}))})),p(e,"eventRender",(function(e){var n,r=e.el,o=e.event;if("timeGridDay"===t.calendar.view.type){console.log(o);var s=["activity_id_".concat(o.extendedProps.activity_id),"guide_id_".concat(o.extendedProps.guide_id),"room_id_".concat(o.extendedProps.room_id),"type_id_".concat(o.extendedProps.type_id)];(n=r.classList).add.apply(n,s),setTimeout((function(){return t.moveEventToColumn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:r,event:o},o.extendedProps))}),0)}})),e)),t.calendar.render()})),p(this,"attachEventCloseModalButton",(function(){document.getElementById("close-modal-button").addEventListener("click",(function(){modal.classList.remove("open")}))})),p(this,"generateData",(function(){var e=[];function n(e,t){return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime()))}function r(e,t){return Math.floor(Math.random()*t)+e}for(var o=0;o<500;o++){var s=y(n(new Date(2020,0,1),new Date(2020,1,30))).hours(r(8,12)),i=y(s).add(r(1,4),"hours");s=s.toDate(),i=i.toDate();var a=r(0,10),c=r(0,10),l=r(0,10),d=r(1,3);1!==d||t.eventsGroupByType[d].options[a]||(t.eventsGroupByType[d].options[a]="label activity_id: ".concat(a," ")),2!==d||t.eventsGroupByType[d].options[l]||(t.eventsGroupByType[d].options[l]="label room_id: ".concat(l," ")),3!==d||t.eventsGroupByType[d].options[c]||(t.eventsGroupByType[d].options[c]="label guide_id: ".concat(c," ")),e.push({start:s,end:i,extendedProps:{activity_id:a,guide_id:c,room_id:l,type_id:d},title:"Event ".concat(o," - activity_id:").concat(a,", guide_id:").concat(c,", room_id:").concat(l,", type_id:").concat(d)})}t.updateEvents(e)})),p(this,"appendFilterSelectButton",(function(){var e=document.createElement("select");e.addEventListener("change",(function(e){var n=e.target.value,r=1===t.selectedEventType?"activity_id":2===t.selectedEventType?"room_id":"guide_id";t.filterEvents(r,n)}));var n=document.createElement("option");n.value="All",n.innerText="All",e.appendChild(n);for(var r=0,o=Object.entries(t.eventsGroupByType[t.selectedEventType].options);r<o.length;r++){var s=u(o[r],2),i=s[0],a=s[1],c=document.createElement("option");c.value=i,c.innerText=a,e.appendChild(c)}document.querySelector(".fc-right select")&&document.querySelector(".fc-right select").remove(),document.querySelector(".fc-right").appendChild(e)})),this.render(),this.renderDatePicker(),this.attachEventCloseModalButton(),this.generateData(),this.filterEvents(1,"All")};document.addEventListener("DOMContentLoaded",(function(){new f}))},242:function(e,t,n){var r={"./af":70,"./af.js":70,"./ar":71,"./ar-dz":72,"./ar-dz.js":72,"./ar-kw":73,"./ar-kw.js":73,"./ar-ly":74,"./ar-ly.js":74,"./ar-ma":75,"./ar-ma.js":75,"./ar-sa":76,"./ar-sa.js":76,"./ar-tn":77,"./ar-tn.js":77,"./ar.js":71,"./az":78,"./az.js":78,"./be":79,"./be.js":79,"./bg":80,"./bg.js":80,"./bm":81,"./bm.js":81,"./bn":82,"./bn.js":82,"./bo":83,"./bo.js":83,"./br":84,"./br.js":84,"./bs":85,"./bs.js":85,"./ca":86,"./ca.js":86,"./cs":87,"./cs.js":87,"./cv":88,"./cv.js":88,"./cy":89,"./cy.js":89,"./da":90,"./da.js":90,"./de":91,"./de-at":92,"./de-at.js":92,"./de-ch":93,"./de-ch.js":93,"./de.js":91,"./dv":94,"./dv.js":94,"./el":95,"./el.js":95,"./en-SG":96,"./en-SG.js":96,"./en-au":97,"./en-au.js":97,"./en-ca":98,"./en-ca.js":98,"./en-gb":99,"./en-gb.js":99,"./en-ie":100,"./en-ie.js":100,"./en-il":101,"./en-il.js":101,"./en-nz":102,"./en-nz.js":102,"./eo":103,"./eo.js":103,"./es":104,"./es-do":105,"./es-do.js":105,"./es-us":106,"./es-us.js":106,"./es.js":104,"./et":107,"./et.js":107,"./eu":108,"./eu.js":108,"./fa":109,"./fa.js":109,"./fi":110,"./fi.js":110,"./fo":111,"./fo.js":111,"./fr":112,"./fr-ca":113,"./fr-ca.js":113,"./fr-ch":114,"./fr-ch.js":114,"./fr.js":112,"./fy":115,"./fy.js":115,"./ga":116,"./ga.js":116,"./gd":117,"./gd.js":117,"./gl":118,"./gl.js":118,"./gom-latn":119,"./gom-latn.js":119,"./gu":120,"./gu.js":120,"./he":121,"./he.js":121,"./hi":122,"./hi.js":122,"./hr":123,"./hr.js":123,"./hu":124,"./hu.js":124,"./hy-am":125,"./hy-am.js":125,"./id":126,"./id.js":126,"./is":127,"./is.js":127,"./it":128,"./it-ch":129,"./it-ch.js":129,"./it.js":128,"./ja":130,"./ja.js":130,"./jv":131,"./jv.js":131,"./ka":132,"./ka.js":132,"./kk":133,"./kk.js":133,"./km":134,"./km.js":134,"./kn":135,"./kn.js":135,"./ko":136,"./ko.js":136,"./ku":137,"./ku.js":137,"./ky":138,"./ky.js":138,"./lb":139,"./lb.js":139,"./lo":140,"./lo.js":140,"./lt":141,"./lt.js":141,"./lv":142,"./lv.js":142,"./me":143,"./me.js":143,"./mi":144,"./mi.js":144,"./mk":145,"./mk.js":145,"./ml":146,"./ml.js":146,"./mn":147,"./mn.js":147,"./mr":148,"./mr.js":148,"./ms":149,"./ms-my":150,"./ms-my.js":150,"./ms.js":149,"./mt":151,"./mt.js":151,"./my":152,"./my.js":152,"./nb":153,"./nb.js":153,"./ne":154,"./ne.js":154,"./nl":155,"./nl-be":156,"./nl-be.js":156,"./nl.js":155,"./nn":157,"./nn.js":157,"./pa-in":158,"./pa-in.js":158,"./pl":159,"./pl.js":159,"./pt":160,"./pt-br":161,"./pt-br.js":161,"./pt.js":160,"./ro":162,"./ro.js":162,"./ru":163,"./ru.js":163,"./sd":164,"./sd.js":164,"./se":165,"./se.js":165,"./si":166,"./si.js":166,"./sk":167,"./sk.js":167,"./sl":168,"./sl.js":168,"./sq":169,"./sq.js":169,"./sr":170,"./sr-cyrl":171,"./sr-cyrl.js":171,"./sr.js":170,"./ss":172,"./ss.js":172,"./sv":173,"./sv.js":173,"./sw":174,"./sw.js":174,"./ta":175,"./ta.js":175,"./te":176,"./te.js":176,"./tet":177,"./tet.js":177,"./tg":178,"./tg.js":178,"./th":179,"./th.js":179,"./tl-ph":180,"./tl-ph.js":180,"./tlh":181,"./tlh.js":181,"./tr":182,"./tr.js":182,"./tzl":183,"./tzl.js":183,"./tzm":184,"./tzm-latn":185,"./tzm-latn.js":185,"./tzm.js":184,"./ug-cn":186,"./ug-cn.js":186,"./uk":187,"./uk.js":187,"./ur":188,"./ur.js":188,"./uz":189,"./uz-latn":190,"./uz-latn.js":190,"./uz.js":189,"./vi":191,"./vi.js":191,"./x-pseudo":192,"./x-pseudo.js":192,"./yo":193,"./yo.js":193,"./zh-cn":194,"./zh-cn.js":194,"./zh-hk":195,"./zh-hk.js":195,"./zh-tw":196,"./zh-tw.js":196};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=242},243:function(e,t,n){},244:function(e,t,n){}});
//# sourceMappingURL=app.654e608d.js.map